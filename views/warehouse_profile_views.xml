<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <!-- Warehouse Profile Form View -->
    <record id="view_warehouse_profile_form" model="ir.ui.view">
        <field name="name">warehouse.profile.form</field>
        <field name="model">warehouse.profile</field>
        <field name="arch" type="xml">
            <form string="Warehouse Profile">
                <header>
                    <field name="operational_status" widget="statusbar" clickable="True"/>
                </header>
                <sheet>
                    <div class="oe_title">
                        <h1>
                            <field name="name" placeholder="Enter warehouse name..."/>
                        </h1>
                    </div>
                    <group>
                        <group string="Warehouse Details">
                            <field name="identifier" readonly="1"/>
                            <field name="warehouse_type"/>
                            <field name="location" placeholder="Enter full address or geographic location..."/>
                            <field name="vehicle_capacity"/>
                            <field name="vehicle_count" readonly="1"/>
                        </group>
                        <group string="Operations">
                            <field name="establishment_date"/>
                            <field name="department_id" context="{'form_view_ref': 'hr.view_department_form'}"/>
                            <field name="operational_status"/>
                        </group>
                    </group>
                    <notebook>
                        <page string="Available Vehicles">
                            <field name="available_vehicle_ids">
                                <list>
                                    <field name="name"/>
                                    <field name="plate_number"/>
                                    <field name="vehicle_type"/>
                                    <field name="vehicle_status"/>
                                </list>
                            </field>
                        </page>
                        <page string="Daily Movement">
                            <field name="daily_movement" widget="text" placeholder="Log daily vehicle in/out movements..."/>
                        </page>
                    </notebook>
                </sheet>
                 <chatter/>
            </form>
        </field>
    </record>

    <!-- Warehouse Profile Tree View -->
    <record id="view_warehouse_profile_tree" model="ir.ui.view">
        <field name="name">warehouse.profile.tree</field>
        <field name="model">warehouse.profile</field>
        <field name="arch" type="xml">
            <list string="Warehouse Profiles">
                <field name="name"/>
                <field name="identifier"/>
                <field name="warehouse_type"/>
                <field name="location"/>
                <field name="vehicle_capacity"/>
                <field name="vehicle_count"/>
                <field name="operational_status"/>
                <field name="department_id"/>
            </list>
        </field>
    </record>

    <!-- Warehouse Profile Kanban View -->
    <record id="view_warehouse_profile_kanban" model="ir.ui.view">
        <field name="name">warehouse.profile.kanban</field>
        <field name="model">warehouse.profile</field>
        <field name="arch" type="xml">
            <kanban>
                <field name="name"/>
                <field name="identifier"/>
                <field name="warehouse_type"/>
                <field name="location"/>
                <field name="vehicle_capacity"/>
                <field name="vehicle_count"/>
                <field name="operational_status"/>
                <templates>
                    <t t-name="card">
                        <div class="oe_kanban_card">
                            <div class="oe_kanban_details">
                                <strong><field name="name"/></strong><br/>
                                <span>Identifier: <field name="identifier"/></span><br/>
                                <span>Type: <field name="warehouse_type"/></span><br/>
                                <span>Location: <field name="location"/></span><br/>
                                <span>Capacity: <field name="vehicle_capacity"/></span><br/>
                                <span>Vehicles: <field name="vehicle_count"/></span><br/>
                                <span>Status: <field name="operational_status"/></span>
                            </div>
                        </div>
                    </t>
                </templates>
            </kanban>
        </field>
    </record>

    <!-- Warehouse Profile Search View -->
    <record id="view_warehouse_profile_search" model="ir.ui.view">
        <field name="name">warehouse.profile.search</field>
        <field name="model">warehouse.profile</field>
        <field name="arch" type="xml">
            <search string="Warehouse Profiles">
                <field name="name"/>
                <field name="identifier"/>
                <field name="location"/>
                <field name="department_id"/>
                <filter string="Active" name="active" domain="[('operational_status', '=', 'active')]"/>
                <filter string="Under Maintenance" name="under_maintenance" domain="[('operational_status', '=', 'under_maintenance')]"/>
                <filter string="Inactive" name="inactive" domain="[('operational_status', '=', 'inactive')]"/>
                <group expand="1" string="Group By">
                    <filter name="warehouse_type" string="Warehouse Type" context="{'group_by': 'warehouse_type'}"/>
                    <filter name="operational_status" string="Status" context="{'group_by': 'operational_status'}"/>
                    <filter name="department_id" string="Department" context="{'group_by': 'department_id'}"/>
                </group>
            </search>
        </field>
    </record>

    <!-- Action for Warehouse Profile -->
    <record id="action_warehouse_profile" model="ir.actions.act_window">
        <field name="name">Warehouse Profiles</field>
        <field name="res_model">warehouse.profile</field>
        <field name="view_mode">kanban,list,form</field>
        <field name="search_view_id" ref="view_warehouse_profile_search"/>
        <field name="help" type="html">
            <p class="oe_view_nocontent_create">
                Create your first warehouse profile.
            </p>
            <p>
                Manage warehouse details, track vehicle assignments, and monitor daily movements.
            </p>
        </field>
    </record>

    <!-- Menu Items -->
    <!-- <menuitem id="menu_warehouse_profile_root"
              name="Warehouse Management"
              sequence="30"/> -->
    <menuitem id="menu_warehouse_profile"
              name="Warehouses"
              parent="fleet_operations.menu_vehicle_receipt_delivery_root"
              action="action_warehouse_profile"
              sequence="10"/>
</odoo>